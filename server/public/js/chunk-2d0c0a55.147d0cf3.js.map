{"version":3,"sources":["webpack:///./src/views/Collections.vue?7d94","webpack:///./src/services/CollectionService.js","webpack:///src/views/Collections.vue","webpack:///./src/views/Collections.vue?07cc","webpack:///./src/views/Collections.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","$auth","user","picture","_v","_s","nickname","email","on","clean","directives","name","rawName","value","expression","domProps","$event","target","composing","search","_m","_l","collection","index","key","_id","params","id","editCollection","deleteCollection","preventDefault","addCollection","$set","updateCollection","getCollections","removeCollection","staticRenderFns","url","CollectionService","axios","get","res","data","map","post","userID","userId","delete","put","components","computed","filtercollection","collections","filter","toLocaleUpperCase","match","methods","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAMA,EAAG,MAAMA,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACG,MAAM,CAAC,IAAMP,EAAIQ,MAAMC,KAAKC,QAAQ,IAAM,qBAAqBN,EAAG,MAAMA,EAAG,MAAMA,EAAG,IAAI,CAACJ,EAAIW,GAAGX,EAAIY,GAAGZ,EAAIQ,MAAMC,KAAKI,aAAaT,EAAG,IAAI,CAACJ,EAAIW,GAAGX,EAAIY,GAAGZ,EAAIQ,MAAMC,KAAKK,UAAUV,EAAG,MAAMA,EAAG,SAAS,CAACE,YAAY,kBAAkBC,MAAM,CAAC,KAAO,SAAS,cAAc,QAAQ,cAAc,sBAAsBQ,GAAG,CAAC,MAAQf,EAAIgB,QAAQ,CAAChB,EAAIW,GAAG,4BAA4BP,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,QAAQ,CAACa,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOpB,EAAU,OAAEqB,WAAW,WAAWf,YAAY,uBAAuBC,MAAM,CAAC,GAAK,SAAS,KAAO,SAAS,YAAc,UAAUe,SAAS,CAAC,MAAStB,EAAU,QAAGe,GAAG,CAAC,MAAQ,SAASQ,GAAWA,EAAOC,OAAOC,YAAqBzB,EAAI0B,OAAOH,EAAOC,OAAOJ,WAAUhB,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACE,YAAY,uBAAuB,CAACN,EAAI2B,GAAG,GAAGvB,EAAG,QAAQJ,EAAI4B,GAAI5B,EAAoB,kBAAE,SAAS6B,EAAWC,GAAO,OAAO1B,EAAG,KAAK,CAAC2B,IAAIF,EAAWG,IAAIzB,MAAM,CAAC,KAAOsB,EAAW,MAAQC,IAAQ,CAAC1B,EAAG,KAAK,CAACJ,EAAIW,GAAG,IAAIX,EAAIY,GAAGiB,EAAWX,MAAM,OAAOd,EAAG,KAAK,CAACE,YAAY,cAAc,CAACF,EAAG,cAAc,CAACE,YAAY,sBAAsBC,MAAM,CAAC,GAAK,CAACW,KAAK,QAASe,OAAQ,CAACC,GAAGL,EAAWG,QAAQ,CAAChC,EAAIW,GAAG,eAAeX,EAAIW,GAAGX,EAAIY,GAAG,KAAK,KAAKR,EAAG,IAAI,CAACE,YAAY,sBAAsBC,MAAM,CAAC,KAAO,SAAS,cAAc,QAAQ,cAAc,sBAAsBQ,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAOvB,EAAImC,eAAeN,MAAe,CAAC7B,EAAIW,GAAG,UAAUX,EAAIW,GAAGX,EAAIY,GAAG,KAAK,KAAKR,EAAG,IAAI,CAACE,YAAY,qBAAqBC,MAAM,CAAC,KAAO,SAAS,cAAc,QAAQ,cAAc,sBAAsBQ,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAOvB,EAAIoC,iBAAiBP,EAAWG,QAAQ,CAAChC,EAAIW,GAAG,aAAa,QAAO,OAAOP,EAAG,MAAM,CAACE,YAAY,aAAaC,MAAM,CAAC,GAAK,oBAAoB,SAAW,KAAK,KAAO,SAAS,kBAAkB,oBAAoB,cAAc,SAAS,CAACH,EAAG,MAAM,CAACE,YAAY,eAAeC,MAAM,CAAC,KAAO,aAAa,CAACH,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACN,EAAI2B,GAAG,GAAGvB,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,OAAO,CAACW,GAAG,CAAC,OAAS,SAASQ,GAAgC,OAAxBA,EAAOc,iBAAwBrC,EAAIsC,cAAcf,MAAW,CAACnB,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,SAAS,CAACP,EAAIW,GAAG,qBAAqBP,EAAG,QAAQ,CAACa,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOpB,EAAI6B,WAAe,KAAER,WAAW,oBAAoBf,YAAY,eAAeC,MAAM,CAAC,KAAO,OAAO,GAAK,OAAO,YAAc,+BAA+B,SAAW,IAAIe,SAAS,CAAC,MAAStB,EAAI6B,WAAe,MAAGd,GAAG,CAAC,MAAQ,SAASQ,GAAWA,EAAOC,OAAOC,WAAqBzB,EAAIuC,KAAKvC,EAAI6B,WAAY,OAAQN,EAAOC,OAAOJ,aAAapB,EAAI2B,GAAG,aAAavB,EAAG,MAAM,CAACE,YAAY,aAAaC,MAAM,CAAC,GAAK,oBAAoB,SAAW,KAAK,KAAO,SAAS,kBAAkB,cAAc,cAAc,SAAS,CAACH,EAAG,MAAM,CAACE,YAAY,eAAeC,MAAM,CAAC,KAAO,aAAa,CAACH,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACN,EAAI2B,GAAG,GAAGvB,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,OAAO,CAACW,GAAG,CAAC,OAAS,SAASQ,GAAgC,OAAxBA,EAAOc,iBAAwBrC,EAAIwC,iBAAiBjB,MAAW,CAACnB,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,SAAS,CAACP,EAAIW,GAAG,qBAAqBP,EAAG,QAAQ,CAACa,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOpB,EAAI6B,WAAe,KAAER,WAAW,oBAAoBf,YAAY,eAAeC,MAAM,CAAC,KAAO,OAAO,GAAK,QAAQ,YAAc,+BAA+B,SAAW,IAAIe,SAAS,CAAC,MAAStB,EAAI6B,WAAe,MAAGd,GAAG,CAAC,MAAQ,SAASQ,GAAWA,EAAOC,OAAOC,WAAqBzB,EAAIuC,KAAKvC,EAAI6B,WAAY,OAAQN,EAAOC,OAAOJ,aAAahB,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,SAAS,CAACE,YAAY,oBAAoBC,MAAM,CAAC,KAAO,SAAS,eAAe,SAASQ,GAAG,CAAC,MAAQf,EAAIyC,iBAAiB,CAACzC,EAAIW,GAAG,WAAWP,EAAG,SAAS,CAACE,YAAY,kBAAkBC,MAAM,CAAC,KAAO,SAAS,eAAe,SAASQ,GAAG,CAAC,MAAQf,EAAIwC,mBAAmB,CAACxC,EAAIW,GAAG,wBAAwBP,EAAG,MAAM,CAACE,YAAY,aAAaC,MAAM,CAAC,GAAK,oBAAoB,SAAW,KAAK,KAAO,SAAS,kBAAkB,aAAa,cAAc,SAAS,CAACH,EAAG,MAAM,CAACE,YAAY,eAAeC,MAAM,CAAC,KAAO,aAAa,CAACH,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACN,EAAI2B,GAAG,GAAG3B,EAAI2B,GAAG,GAAGvB,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,SAAS,CAACE,YAAY,oBAAoBC,MAAM,CAAC,KAAO,SAAS,eAAe,UAAU,CAACP,EAAIW,GAAG,QAAQP,EAAG,SAAS,CAACE,YAAY,iBAAiBC,MAAM,CAAC,KAAO,SAAS,eAAe,SAASQ,GAAG,CAAC,MAAQf,EAAI0C,mBAAmB,CAAC1C,EAAIW,GAAG,qBAAqBP,EAAG,MAAMA,EAAG,QAAQA,EAAG,MAAMA,EAAG,SACjpJuC,EAAkB,CAAC,WAAa,IAAI3C,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACG,MAAM,CAAC,MAAQ,QAAQ,CAACP,EAAIW,GAAG,oBAAoBP,EAAG,KAAK,CAACE,YAAY,aAAaC,MAAM,CAAC,MAAQ,cAAc,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,KAAK,CAACE,YAAY,cAAcC,MAAM,CAAC,GAAK,sBAAsB,CAACP,EAAIW,GAAG,yBAAyBP,EAAG,SAAS,CAACE,YAAY,QAAQC,MAAM,CAAC,KAAO,SAAS,eAAe,QAAQ,aAAa,UAAU,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,cAAc,SAAS,CAACP,EAAIW,GAAG,YAAY,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,SAAS,CAACE,YAAY,oBAAoBC,MAAM,CAAC,KAAO,SAAS,eAAe,UAAU,CAACP,EAAIW,GAAG,WAAWP,EAAG,SAAS,CAACE,YAAY,kBAAkBC,MAAM,CAAC,KAAO,WAAW,CAACP,EAAIW,GAAG,eAAe,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,KAAK,CAACE,YAAY,cAAcC,MAAM,CAAC,GAAK,gBAAgB,CAACP,EAAIW,GAAG,yBAAyBP,EAAG,SAAS,CAACE,YAAY,QAAQC,MAAM,CAAC,KAAO,SAAS,eAAe,QAAQ,aAAa,UAAU,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,cAAc,SAAS,CAACP,EAAIW,GAAG,YAAY,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,KAAK,CAACE,YAAY,gBAAgBF,EAAG,SAAS,CAACE,YAAY,QAAQC,MAAM,CAAC,KAAO,SAAS,eAAe,QAAQ,aAAa,UAAU,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,cAAc,SAAS,CAACP,EAAIW,GAAG,YAAY,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,KAAK,CAACE,YAAY,eAAe,CAACN,EAAIW,GAAG,sDAAsDP,EAAG,S,+ICC31DwC,EAAM,gBAENC,E,6KAE0BX,G,yGACNY,IAAMC,IAAIH,EAAIV,G,cAA1Bc,E,gBAEEC,EAAOD,EAAIC,K,kBACVA,EAAKC,KAAI,SAAArB,GAAU,yBACrBA,O,4NAQaA,GACpB,OAAOiB,IAAMK,KAAKP,EAAK,CACnBQ,OAAQvB,EAAWwB,OACnBnC,KAAMW,EAAWX,S,uCAKDgB,GACpB,OAAOY,IAAMQ,OAAN,UAAgBV,GAAhB,OAAsBV,M,uCAITA,EAAGe,GACzB,OAAOH,IAAMS,IAAIX,EAAIV,EAAGe,O,KAIfJ,I,YCwGf,GACE3B,KAAM,cACNsC,WAAF,GAGEC,SAAF,CACIC,iBAAkB,WAAtB,WACM,OAAOzD,KAAK0D,YAAYC,QAAO,SAArC,GACQ,OAAO/B,EAAWX,KAAK2C,oBAAoBC,MAAM,EAAzD,iCAIEb,KAZF,WAaI,MAAO,CACLU,YAAa,GACb9B,WAAN,CACQwB,OAAQ,GACRnC,KAAM,IAERQ,OAAQ,GACRQ,GAAI,KAGR,QAvBF,WAuBA,wKACA,mBADA,OACA,SADA,OAEA,mBAFA,8CAIE6B,QAAS,CAEP,cAFJ,WAEA,+JACA,uCADA,SAEA,iCAFA,OAGA,mBACA,qBACA,uCALA,8CAQI,eAVJ,WAUA,wKACA,qCADA,OACA,cADA,qDAII,iBAdJ,WAcA,+JACA,0BADA,SAEA,yBAFA,OAGA,mBAHA,8CAMI,iBApBJ,WAoBA,wKACA,kDADA,OAEA,mBACA,qBAHA,8CAMI,kBA1BJ,SA0BA,wKACA,mBADA,OACA,EADA,OAEA,IACA,IAHA,YAGA,YAHA,iCAIA,4BAJA,OAGA,IAHA,8DAQI5B,eAlCJ,SAkCA,GACMlC,KAAK4B,WAAaA,GAGpBO,iBAtCJ,SAsCA,GACMnC,KAAKiC,GAAKA,GAGZlB,MA1CJ,WA2CMf,KAAK4B,WAAWX,KAAO,GACvBjB,KAAKwC,oBCpN0U,I,YCOjVuB,EAAY,eACd,EACAjE,EACA4C,GACA,EACA,KACA,KACA,MAIa,aAAAqB,E","file":"js/chunk-2d0c0a55.147d0cf3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"collections\"},[_c('br'),_c('br'),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-3 text-center\"},[_c('img',{attrs:{\"src\":_vm.$auth.user.picture,\"alt\":\"Profile Picture\"}}),_c('br'),_c('br'),_c('p',[_vm._v(_vm._s(_vm.$auth.user.nickname))]),_c('p',[_vm._v(_vm._s(_vm.$auth.user.email))]),_c('br'),_c('button',{staticClass:\"btn btn-success\",attrs:{\"type\":\"button\",\"data-toggle\":\"modal\",\"data-target\":\"#create_collection\"},on:{\"click\":_vm.clean}},[_vm._v(\"Add a new collection\")])]),_c('div',{staticClass:\"col\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],staticClass:\"form-control mr-sm-2\",attrs:{\"id\":\"search\",\"type\":\"search\",\"placeholder\":\"Search\"},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.search=$event.target.value}}}),_c('div',{staticClass:\"container\"},[_c('table',{staticClass:\"table table-striped\"},[_vm._m(0),_c('tbody',_vm._l((_vm.filtercollection),function(collection,index){return _c('tr',{key:collection._id,attrs:{\"item\":collection,\"index\":index}},[_c('td',[_vm._v(\" \"+_vm._s(collection.name)+\" \")]),_c('td',{staticClass:\"text-right\"},[_c('router-link',{staticClass:\"badge badge-success\",attrs:{\"to\":{name:'items', params: {id:collection._id}}}},[_vm._v(\"Add Items\")]),_vm._v(_vm._s(\" \")+\" \"),_c('a',{staticClass:\"badge badge-primary\",attrs:{\"type\":\"button\",\"data-toggle\":\"modal\",\"data-target\":\"#update_collection\"},on:{\"click\":function($event){return _vm.editCollection(collection)}}},[_vm._v(\"Edit\")]),_vm._v(_vm._s(\" \")+\" \"),_c('a',{staticClass:\"badge badge-danger\",attrs:{\"type\":\"button\",\"data-toggle\":\"modal\",\"data-target\":\"#delete_collection\"},on:{\"click\":function($event){return _vm.deleteCollection(collection._id)}}},[_vm._v(\"Delete\")])],1)])}),0)])]),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"create_collection\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_vm._m(1),_c('div',{staticClass:\"modal-body\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.addCollection($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"Collection name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.collection.name),expression:\"collection.name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"name\",\"placeholder\":\"Enter your collection's name\",\"required\":\"\"},domProps:{\"value\":(_vm.collection.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.collection, \"name\", $event.target.value)}}})]),_vm._m(2)])])])])]),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"update_collection\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"ModalLabel2\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_vm._m(3),_c('div',{staticClass:\"modal-body\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.updateCollection($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"Collection name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.collection.name),expression:\"collection.name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"name2\",\"placeholder\":\"Enter your collection's name\",\"required\":\"\"},domProps:{\"value\":(_vm.collection.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.collection, \"name\", $event.target.value)}}})]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":_vm.getCollections}},[_vm._v(\"Close\")]),_c('button',{staticClass:\"btn btn-success\",attrs:{\"type\":\"submit\",\"data-dismiss\":\"modal\"},on:{\"click\":_vm.updateCollection}},[_vm._v(\"Submit\")])])])])])])]),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"delete_collection\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"ModalLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_vm._m(4),_vm._m(5),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"No\")]),_c('button',{staticClass:\"btn btn-danger\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":_vm.removeCollection}},[_vm._v(\"Yes\")])])])])])])]),_c('br'),_c('br')]),_c('br'),_c('br')])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"My Collections\")]),_c('th',{staticClass:\"text-right\",attrs:{\"scope\":\"col\"}})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"exampleModalLabel\"}},[_vm._v(\"Create a collection\")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"Close\")]),_c('button',{staticClass:\"btn btn-success\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Submit\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"ModalLabel2\"}},[_vm._v(\"Update a collection\")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\"}),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-body\"},[_c('h4',{staticClass:\"text-center\"},[_vm._v(\"Are you sure you want to delete this Collection?\")]),_c('p')])}]\n\nexport { render, staticRenderFns }","import axios from 'axios';\r\n\r\nconst url = '/collections/';\r\n\r\nclass CollectionService{\r\n    // Get collection\r\n    static async getCollections(id){\r\n        const res = await axios.get(url+id)\r\n        try {\r\n          const data = res.data\r\n          return data.map(collection => ({\r\n            ...collection,\r\n          }))\r\n        } catch (err) {\r\n          return err\r\n        }\r\n    }\r\n\r\n    // Create collection\r\n    static insertCollection(collection){\r\n        return axios.post(url, {\r\n            userID: collection.userId,\r\n            name: collection.name,\r\n        });\r\n    }\r\n\r\n    // Delete collection\r\n    static deleteCollection(id){\r\n        return axios.delete(`${url}${id}`);\r\n    }\r\n\r\n    // Update collection\r\n    static updateCollection(id,data){\r\n      return axios.put(url+id,data);\r\n    }\r\n}\r\n\r\nexport default CollectionService;","<template>\r\n  <div class=\"collections\">\r\n    <br><br>\r\n    \r\n    <div class = \"container\">\r\n      <div class=\"row\">\r\n          <!-- Show user profile -->\r\n          <div class=\"col-3 text-center\">\r\n              <img :src=\"$auth.user.picture\" alt=\"Profile Picture\">\r\n              <br><br>\r\n              <p>{{$auth.user.nickname}}</p>\r\n              <p>{{$auth.user.email}}</p>\r\n              <br>\r\n              <button type=\"button\" v-on:click=\"clean\" class=\"btn btn-success\" data-toggle='modal' data-target=\"#create_collection\">Add a new collection</button>\r\n          </div>\r\n\r\n          <div class=\"col\">\r\n            <!-- Search bar -->\r\n            <input v-model=\"search\" id=\"search\" class=\"form-control mr-sm-2\" type=\"search\" placeholder=\"Search\" >\r\n\r\n            <!-- Show the collections created by the user -->\r\n            <div class=\"container\">\r\n              <table class= \"table table-striped\">\r\n                <thead>\r\n                  <tr>\r\n                    <th scope=\"col\">My Collections</th>\r\n                    <th scope=\"col\" class=\"text-right\"></th>\r\n                    \r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"(collection, index) in filtercollection\" \r\n                      v-bind:item=\"collection\"\r\n                      v-bind:index=\"index\"\r\n                      v-bind:key=\"collection._id\">\r\n                    <td>\r\n                        {{collection.name}}\r\n                    </td>\r\n                    <td class=\"text-right\">\r\n                      <router-link :to=\" {name:'items', params: {id:collection._id}} \" class=\"badge badge-success\">Add Items</router-link>{{\" \"}}\r\n                      <a type=\"button\" class=\"badge badge-primary\" v-on:click=\"editCollection(collection)\" data-toggle='modal' data-target=\"#update_collection\">Edit</a>{{\" \"}}\r\n                      <a type=\"button\" v-on:click=\"deleteCollection(collection._id)\" class=\"badge badge-danger\" data-toggle='modal' data-target=\"#delete_collection\">Delete</a>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            \r\n            <!-- Modal to create a new collection -->\r\n            <div class=\"modal fade\" id=\"create_collection\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n              <div class=\"modal-dialog\" role=\"document\">\r\n                <div class=\"modal-content\">\r\n                  <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\" id=\"exampleModalLabel\">Create a collection</h5>\r\n                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                      <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                  </div>\r\n                  \r\n                  <div class=\"modal-body\">\r\n                    <!-- Collection form -->\r\n                    <form @submit.prevent=\"addCollection\">\r\n                      <div class=\"form-group\">\r\n                        <label for=\"name\">Collection name</label>\r\n                        <input type=\"text\" v-model=\"collection.name\" class=\"form-control\" id=\"name\" placeholder=\"Enter your collection's name\" required>\r\n                      </div>\r\n                        <div class=\"modal-footer\">\r\n                          <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n                          <button  type=\"submit\"  class=\"btn btn-success\">Submit</button>\r\n                        </div>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Modal to update a new collection -->\r\n            <div class=\"modal fade\" id=\"update_collection\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"ModalLabel2\" aria-hidden=\"true\">\r\n              <div class=\"modal-dialog\" role=\"document\">\r\n                <div class=\"modal-content\">\r\n                  <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\" id=\"ModalLabel2\">Update a collection</h5>\r\n                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                      <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                  </div>\r\n                  \r\n                  <div class=\"modal-body\">\r\n                    <!-- Collection form -->\r\n                    <form @submit.prevent=\"updateCollection\">\r\n                      <div class=\"form-group\">\r\n                        <label for=\"name\">Collection name</label>\r\n                        <input type=\"text\" v-model=\"collection.name\" class=\"form-control\" id=\"name2\" placeholder=\"Enter your collection's name\" required>\r\n                      </div>\r\n                        <div class=\"modal-footer\">\r\n                          <button type=\"button\" v-on:click=\"getCollections\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n                          <button  type=\"submit\" v-on:click=\"updateCollection\" data-dismiss=\"modal\" class=\"btn btn-success\">Submit</button>\r\n                        </div>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Modal to delete -->\r\n            <div class=\"modal fade\" id=\"delete_collection\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"ModalLabel\" aria-hidden=\"true\">\r\n              <div class=\"modal-dialog\" role=\"document\">\r\n                <div class=\"modal-content\">\r\n                  <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\"></h5>\r\n                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                      <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                  </div>\r\n                  <div class=\"modal-body\">\r\n                    <h4 class=\"text-center\">Are you sure you want to delete this Collection?</h4>\r\n                    <p></p>\r\n                  </div>\r\n                  <div class=\"modal-footer\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">No</button>\r\n                    <button type=\"button\" class=\"btn btn-danger\" v-on:click=\"removeCollection\" data-dismiss=\"modal\">Yes</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n      </div>\r\n      <br><br>\r\n    </div>\r\n    <br><br>\r\n\r\n    \r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Collections from '../services/CollectionService';\r\nimport Items from '../services/ItemService';\r\n\r\nexport default {\r\n  name: 'Collections',\r\n  components:{\r\n    \r\n  },\r\n  computed:{\r\n    filtercollection: function(){\r\n      return this.collections.filter((collection) => {\r\n        return collection.name.toLocaleUpperCase().match(this.search.toLocaleUpperCase());\r\n      });\r\n    }\r\n  },\r\n  data(){\r\n    return {\r\n      collections: [],\r\n      collection:{\r\n        userId: '',\r\n        name: '',\r\n      },\r\n      search: '',\r\n      id: ''\r\n    }\r\n  },\r\n  async created(){\r\n    this.userId = await this.$auth.user.email;\r\n    this.getCollections();\r\n  },\r\n  methods: {\r\n    // Create a new collection\r\n    async addCollection(){\r\n      this.collection.userId = this.$auth.user.email;\r\n      await Collections.insertCollection((this.collection));\r\n      this.getCollections();\r\n      this.collection.name = '';\r\n      this.collection.userId = this.$auth.user.email;\r\n    },\r\n    // Get the collections of the user from DB\r\n    async getCollections(){\r\n        this.collections = await Collections.getCollections(this.$auth.user.email);\r\n    },\r\n    // Delete a specific collection\r\n    async removeCollection(){\r\n      this.getItemsandDelete(this.id);\r\n      await Collections.deleteCollection(this.id);\r\n      this.getCollections();\r\n    },\r\n    // Update a collection\r\n    async updateCollection(){\r\n      await Collections.updateCollection(this.collection._id,this.collection);\r\n      this.getCollections();\r\n      this.collection.name = '';\r\n    },\r\n    // Delete items of a specific collection\r\n    async getItemsandDelete(id){\r\n      var items_array = await Items.getItems(id);\r\n      var i = 0;\r\n      for(i = 0; i < items_array.length; i++){\r\n        await Items.deleteItem(items_array[i]._id);\r\n      }\r\n    },\r\n    // Set the inputs with a specific collection\r\n    editCollection(collection){\r\n      this.collection = collection\r\n    },\r\n    // Grab the id to delete a specific collection\r\n    deleteCollection(id){\r\n      this.id = id;\r\n    },\r\n    // Cleans the input\r\n    clean(){\r\n      this.collection.name = '';\r\n      this.getCollections();\r\n    }\r\n  },\r\n  \r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Collections.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Collections.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Collections.vue?vue&type=template&id=7a4ffe2c&\"\nimport script from \"./Collections.vue?vue&type=script&lang=js&\"\nexport * from \"./Collections.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}